(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{2513:function(e,s,a){Promise.resolve().then(a.bind(a,3813))},352:function(e,s,a){"use strict";var r=a(7437),t=a(2265),l=a(2099),n=a(2253);a(1099),s.Z=e=>{let{children:s,at:a,onClose:i}=e,o=window.innerHeight,[d]=(0,t.useState)(o),[c,u]=(0,t.useState)(),[{y:m},h]=(0,l.q_)(()=>({y:d}));(0,t.useEffect)(()=>{h({y:150})},[h]);let p=(0,n.c0)(e=>{let{down:s,movement:[,a],memo:r=m.get()}=e;return s?(u("on-drag"),h({y:a+r})):(console.log("********** TOP/Bottom Scroll : ",a+r,o-50),a+r<200?(h({y:0}),u("fully-visible")):(u("visible"),a+r>o-50&&(h({y:o}),u(""),i()))),r});return(0,r.jsxs)(l.q.div,{className:"drawer ".concat(a," ").concat(c),...p(),style:{y:m},children:[(0,r.jsx)("div",{className:"drawer-handle"}),(0,r.jsx)("div",{className:"drawer-content",children:s})]})}},713:function(e,s,a){"use strict";var r=a(7437),t=a(2265),l=a(8472),n=a(6463),i=a(5980),o=a(5345);s.Z=()=>{let[e,s]=(0,t.useState)({email:"",password:""}),[a,d]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),m=(0,n.useRouter)(),h=async s=>{s.preventDefault(),d(!0),u("");try{let s=await l.Z.post(i.Z.LOGIN_API,JSON.stringify(e),{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}});if(200===s.status){var a,r,t,n;(0,o.t_)("token",null===(r=s.data)||void 0===r?void 0:null===(a=r.response)||void 0===a?void 0:a.token),(0,o.t_)("userID",null===(n=s.data)||void 0===n?void 0:null===(t=n.response)||void 0===t?void 0:t.id),m.push("/dashboard")}}catch(e){u("Invalid email or password"),console.error("Login error:",e)}finally{d(!1)}};return(0,r.jsxs)("div",{className:"login-form",children:[(0,r.jsx)("h2",{children:"Login"}),(0,r.jsxs)("form",{children:[c&&(0,r.jsx)("p",{className:"error-text",children:c}),(0,r.jsxs)("div",{className:"form-item",children:[(0,r.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Enter your email",autoComplete:"username",onChange:a=>s({...e,email:a.target.value})}),(0,r.jsx)("p",{className:"error"})]}),(0,r.jsxs)("div",{className:"form-item",children:[(0,r.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Enter your password",autoComplete:"current-password",onChange:a=>s({...e,password:a.target.value})}),(0,r.jsx)("p",{className:"error"})]}),(0,r.jsx)("div",{className:"form-item mt-30",children:(0,r.jsx)("button",{className:"primary",onClick:h,disabled:a,children:a?"Logging in...":"Login"})})]})]})}},3813:function(e,s,a){"use strict";a.r(s);var r=a(7437),t=a(7138),l=a(9824),n=a(352),i=a(713),o=a(2265);a(2892);var d=a(2047),c=a(8472),u=a(5980),m=a(5345),h=a(6463);s.default=()=>{let[e,s]=(0,o.useState)(!1),[a,p]=(0,o.useState)(),g=(0,h.useRouter)(),[x,f]=(0,o.useState)({firstName:"",lastName:"",email:"",password:"",phoneNumber:{number:"",country:""},dateOfBirth:"",gender:"",hasAllergies:!1,allergyList:[],allergicSubstances:[]}),[v,j]=(0,o.useState)(!1),[N,y]=(0,o.useState)({});(0,o.useEffect)(()=>{console.log(x)},[x]);let w=(e,s)=>{switch(s){case"CONFIRM_PASSWORD":e.target.value!==x.password?y({confirmPassword:"Password is not Matching!"}):y({});break;case"PHONE.NUMBER":var a;f({...x,phoneNumber:{number:e,country:e?null===(a=(0,d.SR)(e))||void 0===a?void 0:a.country:""}});break;case"HasAllergies":f({...x,[e.target.name]:"true"===e.target.value});break;default:if("ARRAY_TYPE"===s){let s=e.target.value;f({...x,[e.target.name]:s.split(",")})}else f({...x,[e.target.name]:e.target.value})}},S=async e=>{e.preventDefault(),j(!0),y("");try{var s,a,r,t,l;let e=await c.Z.post(u.Z.REGISTER_API,JSON.stringify(x),{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!0});console.log("Registeration successful:",e,e.data),(null===(s=e.data)||void 0===s?void 0:s.statusCode)===201&&((0,m.t_)("token",null===(r=e.data)||void 0===r?void 0:null===(a=r.response)||void 0===a?void 0:a.token),(0,m.t_)("userID",null===(l=e.data)||void 0===l?void 0:null===(t=l.response)||void 0===t?void 0:t.id),alert("Account created! Redirecting..."),g.push("/"))}catch(e){y("Invalid email or password"),console.error("Registeration error:",e)}finally{j(!1)}};return(0,r.jsxs)("main",{className:"register-form",children:[(0,r.jsx)("header",{children:(0,r.jsx)(t.default,{href:"/",children:(0,r.jsx)(l.u1R,{})})}),(0,r.jsx)("h1",{children:"Sign Up"}),(0,r.jsxs)("div",{className:"sub-text",children:[(0,r.jsx)("p",{children:"If you already have an account"}),(0,r.jsxs)("p",{children:["You can",(0,r.jsx)("button",{className:"link",onClick:()=>s(!0),children:"Login here !"})]})]}),(0,r.jsxs)("form",{children:[(0,r.jsx)("div",{className:"form-item",children:(0,r.jsx)("input",{type:"text",name:"firstName",id:"firstName",placeholder:"Enter your first name",onChange:e=>w(e)})}),(0,r.jsx)("div",{className:"form-item",children:(0,r.jsx)("input",{type:"text",name:"lastName",id:"lastName",placeholder:"Enter your last name",onChange:e=>w(e)})}),(0,r.jsx)("div",{className:"form-item",children:(0,r.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Enter your email",autoComplete:"username",onChange:e=>w(e)})}),(0,r.jsx)("div",{className:"form-item",children:(0,r.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Enter your password",autoComplete:"new-password",onChange:e=>w(e)})}),(0,r.jsxs)("div",{className:"form-item",children:[(0,r.jsx)("input",{type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Confirm your password",autoComplete:"new-password",onChange:e=>w(e,"CONFIRM_PASSWORD")}),(0,r.jsx)("p",{className:"error",children:N.confirmPassword})]}),(0,r.jsx)("div",{className:"form-item",children:(0,r.jsx)(d.ZP,{placeholder:"Enter phone number",name:"phoneNumber",value:a,onChange:e=>w(e,"PHONE.NUMBER")})}),(0,r.jsx)("div",{className:"form-item",children:(0,r.jsx)("input",{type:"date",name:"dateOfBirth",id:"dateOfBirth",onChange:e=>w(e)})}),(0,r.jsxs)("div",{className:"form-item",children:[(0,r.jsx)("label",{children:"Gender:"}),(0,r.jsxs)("div",{className:"d-flex-center",children:[(0,r.jsx)("input",{type:"radio",name:"gender",id:"male",value:"Male",onChange:e=>w(e)}),(0,r.jsx)("label",{htmlFor:"male",children:"Male"})]}),(0,r.jsxs)("div",{className:"d-flex-center",children:[(0,r.jsx)("input",{type:"radio",name:"gender",id:"female",value:"Female",onChange:e=>w(e)}),(0,r.jsx)("label",{htmlFor:"female",children:"Female"})]}),(0,r.jsxs)("div",{className:"d-flex-center",children:[(0,r.jsx)("input",{type:"radio",name:"gender",id:"other",value:"Other",onChange:e=>w(e)}),(0,r.jsx)("label",{htmlFor:"other",children:"Other"})]})]}),(0,r.jsxs)("div",{className:"form-item",children:[(0,r.jsx)("label",{children:"Do you have any allergies?"}),(0,r.jsxs)("div",{className:"d-flex-center",children:[(0,r.jsx)("input",{type:"radio",name:"hasAllergies",id:"allergiesYes",value:"true",onChange:e=>w(e,"HasAllergies")}),(0,r.jsx)("label",{htmlFor:"allergiesYes",children:"Yes"})]}),(0,r.jsxs)("div",{className:"d-flex-center",children:[(0,r.jsx)("input",{type:"radio",name:"hasAllergies",id:"allergiesNo",value:"false",onChange:e=>w(e,"HasAllergies")}),(0,r.jsx)("label",{htmlFor:"allergiesNo",children:"No"})]})]}),x.hasAllergies,x.hasAllergies&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"form-item",children:(0,r.jsx)("textarea",{name:"allergyList",id:"allergyList",placeholder:"Please list your allergic substances: (example: specific medications, food additives)",rows:5,onChange:e=>w(e,"ARRAY_TYPE")})}),(0,r.jsxs)("div",{className:"form-item",children:[(0,r.jsx)("label",{children:"Are there any specific substances or foods you are allergic to?"}),(0,r.jsx)("textarea",{name:"allergicSubstances",id:"allergicSubstances",placeholder:"Please list your allergies: (example: Peanuts, Fish, Soy, Shellfish)",rows:5,onChange:e=>w(e,"ARRAY_TYPE")})]})]}),(0,r.jsx)("div",{className:"form-item mt-30",children:(0,r.jsx)("button",{className:"primary",onClick:S,disabled:v,children:v?"Registering...":"Register"})})]}),e&&(0,r.jsx)(n.Z,{at:"full",onClose:()=>{console.log("**** Close Drawer"),s(!1)},children:(0,r.jsx)(i.Z,{})})]})}},5980:function(e,s){"use strict";let a="http://identifier.us-east-1.elasticbeanstalk.com";s.Z={REGISTER_API:"".concat(a,"/api/user/register"),LOGIN_API:"".concat(a,"/api/user/login"),UPLOAD_API:"".concat(a,"/api/allergy/check"),USER_API:"".concat(a,"/api/user"),USER_UPDATE_API:"".concat(a,"/api/user/update")}},5345:function(e,s,a){"use strict";function r(e){let s;let a=/```json\s*([\s\S]*?)\s*```/g,r={};for(;null!==(s=a.exec(e));)try{r={...r,...JSON.parse(s[1])},console.log("DDD: ",r)}catch(e){console.error("Failed to parse JSON:",e)}return console.log("**** Data: ",r),r}a.d(s,{G:function(){return l},LQ:function(){return n},t_:function(){return t},xd:function(){return r}});let t=(e,s)=>{sessionStorage.setItem(e,s)},l=e=>sessionStorage.getItem(e);function n(e){let s=new Date(e),a=s.getFullYear(),r=String(s.getMonth()+1).padStart(2,"0"),t=String(s.getDate()).padStart(2,"0");return"".concat(a,"-").concat(r,"-").concat(t)}},1099:function(){}},function(e){e.O(0,[566,452,138,316,674,971,190,744],function(){return e(e.s=2513)}),_N_E=e.O()}]);