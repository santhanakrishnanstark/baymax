(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[253],{1218:function(e,a,t){Promise.resolve().then(t.bind(t,9318))},1365:function(e,a,t){"use strict";var s=t(7437),n=t(2265),i=t(6820),l=t.n(i),c=t(5097),r=t(6356);t(7305),a.Z=e=>{let{onClose:a,onImageProcess:t}=e,i=(0,n.useRef)(null),[o,u]=(0,n.useState)(null),[m,d]=(0,n.useState)("environment");(0,n.useEffect)(()=>{if(i.current){var e;let a=null===(e=i.current.video.srcObject)||void 0===e?void 0:e.getVideoTracks()[0];a&&a.applyConstraints({facingMode:m})}},[m]),(0,n.useEffect)(()=>{o&&t(o)},[o]);let f=(0,n.useCallback)(()=>{let e=i.current.getScreenshot();u({fileNameWithExtension:"capture.".concat(h(e.split(",")[0])),baseFormatFile:e,fromCamera:!0})},[i]),h=e=>{let a=e.match(/^data:image\/(\w+);base64/);if(a&&a[1])return a[1];console.log("No match found or invalid data URL.")};return(0,s.jsxs)("div",{className:"webcam-container",children:[o?(0,s.jsx)("img",{src:o.baseFormatFile,alt:"webcam",className:"custom-webcam ".concat((null==o?void 0:o.fromCamera)?"camera":"")}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l(),{className:"custom-webcam",videoConstraints:{facingMode:m},ref:i}),(0,s.jsx)("div",{className:"layer"})]}),(0,s.jsx)("div",{className:"btn-container",children:o?(0,s.jsx)("button",{onClick:()=>{u(null)},children:"Retake"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"browse-btn",children:[(0,s.jsx)("input",{type:"file",id:"file-input",className:"file-input",accept:"image/*",title:"Upload Image",onChange:e=>{let a=e.target.files[0];if(console.log("******** Handle file : ",a.name),a&&a.type.startsWith("image/")){let e=new FileReader;e.onload=function(e){u({fileNameWithExtension:a.name,baseFormatFile:e.target.result})},e.readAsDataURL(a)}}}),(0,s.jsx)(r.bNi,{})]}),(0,s.jsx)("button",{className:"capture-btn",onClick:f,children:(0,s.jsx)(c.xue,{})})]})})]})}},9318:function(e,a,t){"use strict";t.r(a);var s=t(7437);t(7138),t(7220);var n=t(1365),i=t(2265);a.default=()=>{let[e,a]=(0,i.useState)(!1);return(0,s.jsxs)("div",{className:"dashboard",children:[(0,s.jsx)("h2",{children:"Dashboard Page"}),(0,s.jsxs)("div",{className:"actions",children:[(0,s.jsx)("button",{className:"primary",onClick:()=>{a(!0)},children:"Take a Pic"}),(0,s.jsx)("button",{className:"secondary",onClick:()=>{},children:"Update Image"})]}),e&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(n.Z,{onClose:()=>a(!1)})})]})}},7305:function(){},7220:function(){}},function(e){e.O(0,[566,51,706,138,936,971,190,744],function(){return e(e.s=1218)}),_N_E=e.O()}]);